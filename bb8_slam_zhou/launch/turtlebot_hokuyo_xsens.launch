<launch>

  <node name="hokuyo_node" pkg="hokuyo_node" type="hokuyo_node" >
    <param name="frame_id" value="laser" />
    <param name="port" value="/dev/ttyACM0" />
  </node>

 <node pkg="tf" type="static_transform_publisher" name="lidar_tf_broadcaster" args="0 0 0.4 0 0 0 base_footprint laser 100" />

<!--
 <node name="rviz" pkg="rviz" type="rviz" required="true"
      args="-d $(find bb8_slam_zhou)/launch/carto_nav_turtlebot.rviz" />
-->


<!-- use odom data to show the path -->

  <node pkg="bb8_slam_zhou" type="foot_print" name="foot_printer" />


  <include file="$(find turtlebot_bringup)/launch/minimal.launch" />


  <node name="cartographer_node" pkg="cartographer_ros"
      type="cartographer_node" args="
          -configuration_directory
              $(find bb8_slam_zhou)/configuration_files
          -configuration_basename turtlebot_hokuyo_xsens.lua"
      output="screen">
    <remap from="points2" to="/camera/depth/points" />
  </node>


  <node name="xsens_imu" pkg="xsens_driver" type="mtnode.py" respawn="true" respawn_delay="0" >
  <param name="frame_id" value="imu" />
   <param name="device" value="/dev/ttyUSB1" />
   <param name="baudrate" value="115200" />
   <param name="frame_local" value="ENU" />
   <remap from="/mti/sensor/imu" to="/imu" />
  </node>
 <node pkg="tf" type="static_transform_publisher" name="imu_tf_broadcaster" args="0 0 0.4 0 0 0 base_footprint imu 100" />


</launch>
